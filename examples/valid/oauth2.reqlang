#!/usr/bin/env reqlang

vars = ["oauth2_base_url"]
secrets = ["client_secret"]

envs.dev.oauth2_base_url = "http://localhost:8080/default"

prompts.client_key = ""

[auth.oauth2]
grant = "client"
access_token_url = "{{:oauth2_base_url}}/token"
authorize_url = "{{:oauth2_base_url}}/authorize"
client_id = "{{?client_key}}"
client_secret = "{{!client_secret}}"
scopes = "profile"
---
POST https://httpbin.org/post HTTP/1.1
authenication: Bearer {{@auth.oauth2.access_token}}

---
---
